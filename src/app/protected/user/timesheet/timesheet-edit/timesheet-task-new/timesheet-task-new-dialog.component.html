<div class="modal-header">
    <button type="button" class="close" aria-label="Close" (click)="activeModal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
    <h4 class="modal-title">Create Timesheet Task</h4>
  </div>
  
  <div class="modal-body">
    <app-loading [condition]="isLoadingProject || isLoadingTask"></app-loading>
  
    <form [formGroup]="form" class="form-horizontal">
  
      <div class="row">
        <label for="ProjectId" class="col-md-3 col-form-label">Project:</label>
        <div class="col-md-9">
          <div class="form-group" [class.has-danger]="isInvalidField('ProjectId')">
            <select id="ProjectId" class="selectpicker" data-style="select-with-transition" formControlName="ProjectId" (change)="onChangeProject()">
              <option value=""></option>
              <option *ngFor="let project of projects" [value]="project.ProjectId">{{project.ProjectName}}</option>
            </select>
            <ng-container *ngIf="isInvalidField('ProjectId')">
              <label *ngIf="form.get('ProjectId').errors?.required" class="error">Please select project.</label>
            </ng-container>
          </div>
        </div>
      </div>
  
      <div class="row">
        <label for="SubProjectId" class="col-md-3 col-form-label">Sub Project:</label>
        <div class="col-md-9">
          <div class="form-group">
            <select id="SubProjectId" class="selectpicker" data-style="select-with-transition" formControlName="SubProjectId">
              <option value=""></option>
              <option *ngFor="let subProject of subProjects" [value]="subProject.SubProjectId">{{subProject.SubProjectName}}</option>
            </select>
          </div>
        </div>
      </div>
  
      <div class="row">
        <label for="TaskId" class="col-md-3 col-form-label">Task:</label>
        <div class="col-md-9">
          <div class="form-group" [class.has-danger]="isInvalidField('TaskId')">
            <select id="TaskId" class="selectpicker" data-style="select-with-transition" formControlName="TaskId">
              <option value=""></option>
              <option *ngFor="let task of tasks" [value]="task.TaskId">{{task.TaskName}}</option>
            </select>
            <ng-container *ngIf="isInvalidField('TaskId')">
              <label *ngIf="form.get('TaskId').errors?.required" class="error">You must select Task</label>
            </ng-container>
          </div>  
        </div>
      </div>
  
    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="onCreate()">Create Task</button>
  </div>